summary: Drawdown Foreclosure - Base Order
details:
  - description: Detailed process for drawdown foreclosure
    mermaid: >-
      sequenceDiagram
        participant Borrower Platform (BAP)
        participant Lender Platform (BPP)
        Lender Platform (BPP)->>Borrower Platform (BAP):on_update
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
        Borrower Platform (BAP)->>Lender Platform (BPP): update (Pre-part-payment)
        Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
        Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
        Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
        Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Base Transaction
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
references: if any
steps:
  - summary: The borrower (BAP) sends the update request for foreclosure using
      base order id
    reference: if any
    api: update
    stepName: Base Order
    example:
      value:
        $ref: ../../examples/Working-Capital-Loan/update/update_fore_closure_base_order.yaml
    details:
      - description: The borrower (BAP) sends the update request for foreclosure using
          base order id
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            rect rgb(191, 223, 255)
            Borrower Platform (BAP)->>Lender Platform (BPP): update (foreclosure)
            Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
            end
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Base Transaction
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
  - summary: The lender will provide a payment details for foreclosure of drawdown in base order
      and also update the repayment details
    reference: if any
    api: on_update
    stepName: Base Order
    example:
      value:
        $ref: ../../examples/Working-Capital-Loan/on_update/on_update_base_order_foreclosure_1.yaml
    details:
      - description: The lender will provide a payment details for foreclosure of
          drawdown and also update the repayment details
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            Borrower Platform (BAP)->>Lender Platform (BPP): update (Foreclosure-payment)
            Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            end
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Base Transaction
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
  - summary: The lender will update  payment details for foreclosure of drawdown in base order
    reference: if any
    api: on_update
    stepName: Base Order
    example:
      value:
        $ref: ../../examples/Working-Capital-Loan/on_update/on_update_base_order_foreclosure_2.yaml
    details:
      - description: The lender will update  payment details for foreclosure of drawdown in base order
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            Borrower Platform (BAP)->>Lender Platform (BPP): update (Foreclosure-payment)
            Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            rect rgb(191, 223, 255)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            end
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Base Transaction
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
  
  - summary: The lender will update the payment details in child order
    reference: if any
    api: on_update
    stepName: Child Order
    example:
      value:
        $ref: ../../examples/Working-Capital-Loan/on_update/on_update_foreclosure_update_base_transaction.yaml
    details:
      - description: The lender will update the payment details in child order
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            Borrower Platform (BAP)->>Lender Platform (BPP): update (Pre-part-payment)
            Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            rect rgb(191, 223, 255)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Base Transaction
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            end
