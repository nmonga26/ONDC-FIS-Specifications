summary: Life Insurance Application - Medical Checkup required
details: &details
  - &details_0
    description: Discovery of life insurance .
    mermaid: >-
      sequenceDiagram
        title life insurance Discovery
        Buyer Platform (BAP)->>Gateway (BG): search
        Gateway (BG) ->> Buyer Platform (BAP): ACK
        Gateway (BG)->>Registry: Lookup Insurer Platforms (lookup)
        Registry->>Gateway (BG): List of Insurer Platforms (200 OK)
        Gateway (BG)->>Insurer Platform (BPP): search
        Insurer Platform (BPP)->>Gateway (BG) : ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP): Publish Catalog of Insurer 1 (on_search)
        Buyer Platform (BAP)->>Insurer Platform (BPP): ACK    
  - &details_1
    description: Ordering
    mermaid: |-
      sequenceDiagram
        title  Selection
        participant Buyer Platform (BAP)
        participant Insurer Platform (BPP)
        participant Insurer Form Service
        Buyer Platform (BAP)->> Insurer Form Service: Get Form
        Insurer Form Service-->>Buyer Platform (BAP): Form Received
        Buyer Platform (BAP)->>Insurer Form Service: Form Submission
        Insurer Form Service-->>Buyer Platform (BAP): Submission ID 
        Buyer Platform (BAP)->>Insurer Platform (BPP): select(with submissionID)
        Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_select
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK  
  - &details_2
    description: Initializing the order
    mermaid: |-
      sequenceDiagram
        title Initializing Order
        participant Buyer Platform (BAP)
        participant Insurer Platform (BPP)
        participant Insurer Form Service
        Buyer Platform (BAP)->>Insurer Form Service: Get Form
        Insurer Form Service-->>Buyer Platform (BAP): Form Received
        Buyer Platform (BAP)->>Insurer Form Service: Form Submission
        Insurer Form Service-->>Buyer Platform (BAP): Submission ID
        Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
        Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK      
  - &details_3
    description: Order Confirmation
    mermaid: >-
      sequenceDiagram
        title  Order Confirmation
        participant Buyer Platform (BAP)
        participant Insurer Platform (BPP)
        participant Insurer Form Service
        Buyer Platform (BAP)->>Insurer Form Service: Get Form
        Insurer Form Service-->>Buyer Platform (BAP): Form Received
        Buyer Platform (BAP)->>Insurer Form Service: Form Submission
        Insurer Form Service-->>Buyer Platform (BAP): Submission ID
        Buyer Platform (BAP)->>Insurer Platform (BPP): confirm(with submissionID)
        Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
  - &details_4
    description: Fulfillment
    mermaid: >-
      sequenceDiagram
        title Order Fulfillment
        participant Buyer Platform (BAP)
        participant Insurer Platform (BPP)
        Buyer Platform (BAP)->>Insurer Platform (BPP): status-Request application status
        Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_status - Provide application status
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK            
references: if any
steps: &steps
  - &steps_0
    summary: User search for available life insurance providers
    reference: if any
    api: search
    example: &steps_0_example
      value: &steps_0_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/search/search_0.yaml
    details: &steps_0_details
      - &steps_0_details_0
        description: User explore life insurance options by searching for insurers over
          the network.
        mermaid: >-
          sequenceDiagram
            title life insurance Discovery
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Gateway (BG): search
            Gateway (BG) ->> Buyer Platform (BAP): ACK
            Gateway (BG)->>Registry: Lookup Insurer Platforms (lookup)
            Registry->>Gateway (BG): List of Insurer Platforms (200 OK)
            Gateway (BG)->>Insurer Platform (BPP): search
            Insurer Platform (BPP)->>Gateway (BG) : ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP): Publish Catalog of Insurer 1 (on_search)
            Buyer Platform (BAP)->>Insurer Platform (BPP): ACK    
  - &steps_1
    summary: Insurer provides a catalog of different insurance products
    reference: if any
    api: on_search
    example: &steps_1_example
      value: &steps_1_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_search/on_search_0.yaml
    details: &steps_1_details
      - &steps_1_details_0
        description: Insurer sends product catalogue and a basic details form
        mermaid: >-
          sequenceDiagram
            title life insurance Discovery
            Buyer Platform (BAP)->>Gateway (BG): search
            Gateway (BG) ->> Buyer Platform (BAP): ACK
            Gateway (BG)->>Registry: Lookup Insurer Platforms (lookup)
            Registry->>Gateway (BG): List of Insurer Platforms (200 OK)
            Gateway (BG)->>Insurer Platform (BPP): search
            Insurer Platform (BPP)->>Gateway (BG) : ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP): Publish Catalog of Insurer 1 (on_search)
            Buyer Platform (BAP)->>Insurer Platform (BPP): ACK  
            end
  - &steps_2
    summary: User fills the personal/individual information form
    reference: if any
    api: form
    example: &steps_2_example
      value: &steps_2_example_value
        $ref: ../../examples/EXTRA/forms/form_user_fills_the_personal_information_details_form_from_the_insurer_using_the_link_provided_in_the_previous_step__1.html
    details: &steps_2_details
      - &steps_2_details_0
        description: User fills the personal information details form from the insurer
          using the link provided in the previous step.
        mermaid: >-
          sequenceDiagram
            title life insurance Discovery
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->> Insurer Form Service: Get Form
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID 
            end
            Buyer Platform (BAP)->>Insurer Platform (BPP): search(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_search
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
  - &steps_3
    summary: Buyer app requests for consent handle from Insurer if AA is required
    reference: if any
    api: search
    example: &steps_3_example
      value: &steps_3_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/search/search_1.yaml
    details: &steps_3_details
      - &steps_3_details_0
        description: User explores life insurance options by searching for insurers.
          Buyer App passes the submission id for basic details form from
          previous request and expects a consent handle from the Insurer.
        mermaid: >-
          sequenceDiagram
            title life insurance Discovery
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->> Insurer Form Service: Get Form
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID 
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): search(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_search
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK    
  - &steps_4
    summary: Insurer responds with a consent handle
    reference: if any
    api: on_search
    example: &steps_4_example
      value: &steps_4_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_search/on_search_1.yaml
    details: &steps_4_details
      - &steps_4_details_0
        description: Insurer responds with a consent handle.
        mermaid: >-
          sequenceDiagram
            title life insurance Discovery
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->> Insurer Form Service: Get Form
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID 
            Buyer Platform (BAP)->>Insurer Platform (BPP): search(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_search
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            end
  - &steps_5
    summary: User requests for quotes of life insurance products from Insurers.
    reference: if any
    api: search
    example: &steps_5_example
      value: &steps_5_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/search/search_2.yaml
    details: &steps_5_details
      - &steps_5_details_0
        description: User explores life insurance options by searching for insurers. The
          user expects prices for the listed products.
        mermaid: |-
          sequenceDiagram
            title life insurance Discovery
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP) 
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): search
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_search
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK    
  - &steps_6
    summary: Insurer provides a catalog of different insurance products with quotes
    reference: if any
    api: on_search
    example: &steps_6_example
      value: &steps_6_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_search/on_search_2.yaml
    details: &steps_6_details
      - &steps_6_details_0
        description: Insurer sends a consent handle.
        mermaid: |-
          sequenceDiagram
            title life insurance Discovery
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP) 
            Buyer Platform (BAP)->>Insurer Platform (BPP): search
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_search
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            end
  - &steps_7
    summary: User selects a life insurance for more details.
    reference: if any
    api: select
    example: &steps_7_example
      value: &steps_7_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/select/select_0.yaml
    details: &steps_7_details
      - &steps_7_details_0
        description: User selects a specific life insurance plan that suits their needs
          along with the available addon/riders
        mermaid: |-
          sequenceDiagram
            title  Selection
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): select
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_select
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
  - &steps_8
    summary: Insurer returns the response to selected life insurance plan
    reference: if any
    api: on_select
    example: &steps_8_example
      value: &steps_8_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_select/on_select_0.yaml
    details: &steps_8_details
      - &steps_8_details_0
        description: Insurer responds with detailed information.
        mermaid: |-
          sequenceDiagram
            title  Selection
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            Buyer Platform (BAP)->>Insurer Platform (BPP): select
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_select
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            end
  - &steps_9
    summary: The User initiates the life insurance request
    reference: if any
    api: init
    example: &steps_9_example
      value: &steps_9_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/init/init_0.yaml
    details: &steps_9_details
      - &steps_9_details_0
        description: User initiates purchase of a specific life insurance plan that
          suits their needs. Buyer app passes submission-id of EKYC received in
          unsolicited on_status in previous step.
        mermaid: |-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
           rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): init
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
  - &steps_10
    summary: Insurer returns the response to initialized life insurance plan with
      ekyc form
    reference: if any
    api: on_init
    example: &steps_10_example
      value: &steps_10_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_init/on_init_0.yaml
    details: &steps_10_details
      - &steps_10_details_0
        description: Insurer responds to buyer and ask for ekyc by sending a form.
        mermaid: |-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Platform (BPP): init
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
           rect rgb(191, 223, 255) 
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           end 
  - &steps_11
    summary: User fills the EKYC form
    reference: if any
    api: form
    example: &steps_11_example
      value: &steps_11_example_value
        $ref: ../../examples/EXTRA/forms/form_user_fills_the_ekyc_details_form_from_the_insurer_using_the_link_provided_in_the_previous_step__2.html
    details: &steps_11_details
      - &steps_11_details_0
        description: User fills the EKYC details form from the insurer using the link
          provided in the previous step.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Form Service: Get Form(EKYC)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            end
           Insurer Platform (BPP)->>Buyer Platform (BAP):(EKYC) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK   
  - &steps_12
    summary: Insurer updates the status of ekyc
    reference: if any
    api: on_status
    example: &steps_12_example
      value: &steps_12_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_status/on_status_ekyc.yaml
    details: &steps_12_details
      - &steps_12_details_0
        description: Insurer responds with the EKYC status
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form(EKYC)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
           rect rgb(191, 223, 255) 
            Insurer Platform (BPP)->>Buyer Platform (BAP):(EKYC) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           end
           Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK   
  - &steps_13
    summary: The User initiates the life insurance request
    reference: if any
    api: init
    example: &steps_13_example
      value: &steps_13_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/init/init_1.yaml
    details: &steps_13_details
      - &steps_13_details_0
        description: User initiates purchase of a specific life insurance plan that
          suits their needs. Buyer app passes submission-id of EKYC received in
          unsolicited on_status in previous step.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form(EKYC)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
           Insurer Platform (BPP)->>Buyer Platform (BAP):(EKYC) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
  - &steps_14
    summary: Insurer returns the response to initialized life insurance plan and
      responds with additional details form
    reference: if any
    api: on_init
    example: &steps_14_example
      value: &steps_14_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_init/on_init_2.yaml
    details: &steps_14_details
      - &steps_14_details_0
        description: Insurer responds to buyer and ask for additional details
          information by sending a form.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form(EKYC)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            Insurer Platform (BPP)->>Buyer Platform (BAP):(EKYC) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            end
  - &steps_15
    summary: User fills the additional details form
    reference: if any
    api: form
    example: &steps_15_example
      value: &steps_15_example_value
        $ref: ../../examples/EXTRA/forms/form_user_fills_the_additional_details_form_from_the_insurer_using_the_link_provided_in_the_previous_step__3.html
    details: &steps_15_details
      - &steps_15_details_0
        description: User fills the additional details form from the insurer using the
          link provided in the previous step.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Additional Details)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            end
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK   
  - &steps_16
    summary: The User initiates the life insurance request
    reference: if any
    api: init
    example: &steps_16_example
      value: &steps_16_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/init/init_2.yaml
    details: &steps_16_details
      - &steps_16_details_0
        description: User initiates the check to determine whether medical underwriting
          is needed. Buyer app passes submission-id of additional information
          form received in previous step.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Additional Details)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
  - &steps_17
    summary: Insurer returns the response to initialized life insurance plan and
      responds with medical checkup form & optionally, a medical checkup payment
      link
    reference: if any
    api: on_init
    example: *steps_14_example
    details: &steps_17_details
      - &steps_17_details_0
        description: Insurer returns the response to initialized life insurance plan and
          responds with medical checkup form. Insurer can optionally send
          medical checkup payment link if they do not want to bear the cost on
          themselves. This payment would be non-refundable if medical checkup is
          completed.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Additional Details)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            end
  - &steps_18
    summary: User fills the medical checkup form
    reference: if any
    api: form
    example: &steps_18_example
      value: &steps_18_example_value
        $ref: ../../examples/EXTRA/forms/form_user_fills_the_medical_checkup_form_from_the_insurer_using_the_link_provided_in_the_previous_step__4.html
    details: &steps_18_details
      - &steps_18_details_0
        description: User fills the medical checkup form from the insurer using the link
          provided in the previous step.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Medical Checkup)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):(optional) (medical checkup payment status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):(medical checkup status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK   
  - &steps_19
    summary: (Optional) Insurer updates the status of medical checkup payment
    reference: if any
    api: on_status
    example: &steps_19_example
      value: &steps_19_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_status/on_status_medical_payment_update.yaml
    details: &steps_19_details
      - &steps_19_details_0
        description: If medical payment link was passed in previous init, the BAP
          initiates a payment and Insurer responds with status of the payment.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Medical Checkup)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
           rect rgb(191, 223, 255)
           Insurer Platform (BPP)->>Buyer Platform (BAP):(optional) (medical checkup payment status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           end 
            Insurer Platform (BPP)->>Buyer Platform (BAP):(medical checkup status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK   
  - &steps_20
    summary: Insurer updates the status of medical checkup
    reference: if any
    api: on_status
    example: &steps_20_example
      value: &steps_20_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_status/on_status_medical_checkup.yaml
    details: &steps_20_details
      - &steps_20_details_0
        description: Insurer responds with the medical checkup status
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Medical Checkup)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            Insurer Platform (BPP)->>Buyer Platform (BAP): (optional) (medical checkup payment status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           rect rgb(191, 223, 255)
           Insurer Platform (BPP)->>Buyer Platform (BAP):(medical checkup status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           end
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK   
  - &steps_21
    summary: The User requests the final quote after the medical underwriting is done
    reference: if any
    api: init
    example: &steps_21_example
      value: &steps_21_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/init/init_3.yaml
    details: &steps_21_details
      - &steps_21_details_0
        description: The User requests the final quote if medical underwriting is done.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Medical Checkup)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            Insurer Platform (BPP)->>Buyer Platform (BAP): (optional) (medical checkup payment status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           Insurer Platform (BPP)->>Buyer Platform (BAP):(medical checkup status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
  - &steps_22
    summary: Insurer returns the response to initialized life insurance plan with
      final quote of the product.
    reference: if any
    api: on_init
    example: &steps_22_example
      value: &steps_22_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_init/on_init_3.yaml
    details: &steps_22_details
      - &steps_22_details_0
        description: Insurer returns the response to initialized life insurance plan
          with final quote of the product and a payment link.
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            participant Insurer Form Service
            Buyer Platform (BAP)->>Insurer Form Service: Get Form (Medical Checkup)
            Insurer Form Service-->>Buyer Platform (BAP): Form Received
            Buyer Platform (BAP)->>Insurer Form Service: Form Submission
            Insurer Form Service-->>Buyer Platform (BAP): Submission ID
            Insurer Platform (BPP)->>Buyer Platform (BAP): (optional) (medical checkup payment status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
           Insurer Platform (BPP)->>Buyer Platform (BAP):(medical checkup status) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Buyer Platform (BAP)->>Insurer Platform (BPP): init(with submissionID)
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_init
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            end
  - &steps_23
    summary: Insurer updates the status of payment
    reference: if any
    api: on_status
    example: &steps_23_example
      value: &steps_23_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_status/on_status_payment_update.yaml
    details: &steps_23_details
      - &steps_23_details_0
        description: Insurer responds with the payment status
        mermaid: >-
          sequenceDiagram
            title Initializing Order
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
           rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):(Final Payment) on_status
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK  
           end
  - &steps_24
    summary: User confirms the life insurance request
    reference: if any
    api: confirm
    example: &steps_24_example
      value: &steps_24_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/confirm/confirm_0.yaml
    details: &steps_24_details
      - &steps_24_details_0
        description: User confirms the life insurance request and provides all the
          necessary information as per the terms.
        mermaid: |-
          sequenceDiagram
            title  Order Confirmation
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            rect rgb(191, 223, 255)
            Buyer Platform (BAP)->>Insurer Platform (BPP): confirm
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            end
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
  - &steps_25
    summary: Insurer confirms the life insurance order
    reference: if any
    api: on_confirm
    example: &steps_25_example
      value: &steps_25_example_value
        $ref: ../../examples/flow-2-with-offline-medical-checkup/on_confirm/on_confirm_1.yaml
    details: &steps_25_details
      - &steps_25_details_0
        description: Insurer confirms the life insurance and provides the confirmation
          details.
        mermaid: |-
          sequenceDiagram
            title  Order Confirmation
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            Buyer Platform (BAP)->>Insurer Platform (BPP): confirm
            Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
            rect rgb(191, 223, 255)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK 
            end
